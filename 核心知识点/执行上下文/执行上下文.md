## 环境记录
+ 环境记录 用于记录词法环境中的标识符与变量的映射，类似一个对象或者map。
+ 环境记录分为 声明式环境记录DeclarativeEnvironmentRecord、对象环境记录 ObjectEnvironmentRecord 和 全局环境记录 GlobalEnvironmentRecord
+ 每个环境记录都有一个outerEnv 字段，outerEnv可能为null（全局环境记录的outerEnv为null） 或者 是对外部环境记录的引用（就是由这个字段 形成的作用域链）

执行上下文 包含 VariableEnvironment 和 LexicalEnvironment
VariableEnvironment 和 LexicalEnvironment 都是环境记录

全局环境记录 是声明式环境记录 和 对象式环境记录的组合
对象式环境记录存在全局环境记录 和 with创建的环境记录
```js
  GlobalEnvironmentRecords: {
    outerEnv: null, // 全局环境 的外部引用为null
    [[GlobalThisValue]]: // this的执行 如 window
    [[ObjectRecord]]: { // 对象式环境记录
      Type: "ObjectEnvironmentRecord",
      // 包含了全局下var、function、generator、async声明的标识符 还有其他内置对象 如Math、Date
      // 用全局对象（如window）作为绑定对象，所以在全局下用var、function...声明的变量可以通过window[变量名] 访问（或window.变量名）
    }, 
    [[DeclarativeRecord]]:{
      Type: "DeclarativeEnvironmentRecord",
      // 除了var、function、generator、async声明的标识符保存在这里，如let、const
    },
    [[varNames]]: // var、function、generator、async声明的标识符列表
  }
```
函数执行上下文 包括了 VariableEnvironment 和 LexicalEnvironment
执行上下文的 LexicalEnvironment 和 VariableEnvironment 组件始终是环境记录
### 声明式环境记录
+ 声明式环境记录 绑定了由包含在其范围内的声明定义的标识符集，即var、let、const、class、module、import 和function函数声明
+ 声明式环境记录 又分为 函数环境记录FunctionEnvironmentRecords 和 模块环境记录Module Environment Records
+ 函数环境记录 是声明式环境记录 用于表示函数的顶级范围，有Arguments对象，并且如果函数不是箭头函数，会提供this绑定
```js
FunctionExecutionContext = {
  VariableEnvironment: {
    // 保存var声明的标识符
  },
  LexicalEnvironment: {
    // 保存let、const声明的标识符
  }
}
```